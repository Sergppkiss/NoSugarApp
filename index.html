<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoSugar App</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Рецепты</h1>
    
    <div class="controls">
      <input type="text" id="search-bar" placeholder="Поиск по названию...">
      <a href="admin.html" class="admin-link" id="admin-link" style="display:none;">Админ-панель</a>
    </div>

    <div id="products-panel">
      <div class="products-controls">

        <label class="toggle"><input type="checkbox" id="only-available"><span>Только доступные</span></label>
        <button id="apply-filter-btn" class="button">Показать рецепты</button>
      </div>
    </div>

    <div id="category-buttons">
      <button class="category-btn active" data-category="Все">Все</button>
      <button class="category-btn" data-category="Завтрак">Завтрак</button>
      <button class="category-btn" data-category="Обед">Обед</button>
      <button class="category-btn" data-category="Ужин">Ужин</button>
      <button class="category-btn" data-category="Десерт">Десерт</button>
      <button class="category-btn" data-category="Перекус">Перекус</button>
    </div>

    <div id="recipes" class="recipes-container"></div>

    <!-- Плавающие кнопки сверху справа -->
    <button id="open-ingredients-btn" class="cart-button" aria-label="Открыть ингредиенты">
      <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
      </svg>
      <span class="badge" id="ingredients-count"></span>
    </button>
    <button id="open-favorites-btn" class="favorites-top-button" aria-label="Показать избранное">
      <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <polygon points="12 2 15 8.5 22 9 17 14 18.5 21 12 17.5 5.5 21 7 14 2 9 9 8.5 12 2" />
      </svg>
    </button>
  </div>

  <!-- Модальное окно рецепта -->
  <div id="recipe-modal" class="modal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <div class="modal-image-container">
        <img id="modal-recipe-image" src="" alt="Фото рецепта">
      </div>
      <div class="modal-text-container">
        <h2 id="modal-recipe-name"></h2>
        <p id="modal-meta"></p>
        <h3>Ингредиенты:</h3>
        <ul id="modal-recipe-ingredients"></ul>
        <h3>Теги для фильтра:</h3>
        <div id="modal-recipe-tags" class="tags-container"></div>
        <h3>Приготовление:</h3>
        <p id="modal-recipe-instructions"></p>
      </div>
    </div>
  </div>

  <!-- Новое модальное окно выбора ингредиентов -->
  <div id="ingredients-modal" class="modal">
    <div class="modal-content">
      <span class="close-button" id="close-ingredients-modal">&times;</span>
      <h2>Выбор ингредиентов</h2>
      <div class="products-controls">
        <button id="select-all-ingredients-btn" class="button">Выбрать все</button>
        <button id="clear-ingredients-btn" class="button">Очистить</button>
      </div>
      <div id="ingredients-chips-modal" class="chips-container"></div>
      <div class="form-actions">
        <button id="save-ingredients-btn" class="button">Сохранить</button>
      </div>
    </div>
  </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="data.js"></script>
  <script src="main.js"></script>
</body>
</html>