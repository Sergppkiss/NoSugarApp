<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NoSugar App</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <button id="open-ingredients-btn" class="cart-button" aria-label="Выбор ингредиентов">
    <svg class="cart-icon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
      <path fill="currentColor" d="M7 18c-.83 0-1.5.67-1.5 1.5S6.17 21 7 21s1.5-.67 1.5-1.5S7.83 18 7 18zm10 0c-.83 0-1.5.67-1.5 1.5S16.17 21 17 21s1.5-.67 1.5-1.5S17.83 18 17 18zM7.16 14.26h9.91c.68 0 1.27-.43 1.47-1.07l2.05-6.62A1.25 1.25 0 0 0 19.39 5H6.21L5.79 3.65A1.25 1.25 0 0 0 4.6 2.8H3a1 1 0 1 0 0 2h1.06l3.03 9.1c.2.64.79 1.06 1.47 1.06zM6.62 7h11.93l-1.64 5.3H7.95L6.62 7z"/>
    </svg>
    <span id="ingredients-count" class="badge">0</span>
  </button>
  <div class="container">
    <h1>Рецепты</h1>
    
    <div class="controls">
      <input type="text" id="search-bar" placeholder="Поиск по названию...">
      <a href="admin.html" class="admin-link" id="admin-link" style="display:none;">Админ-панель</a>
    </div>

    <div id="products-panel">
      <div class="products-controls">

        <label class="toggle"><input type="checkbox" id="only-available"><span>Только доступные</span></label>
        <button id="apply-filter-btn" class="button">Показать рецепты</button>
      </div>
    </div>

    <div id="category-buttons">
      <button class="category-btn active" data-category="Все">Все</button>
      <button class="category-btn" data-category="Завтрак">Завтрак</button>
      <button class="category-btn" data-category="Обед">Обед</button>
      <button class="category-btn" data-category="Ужин">Ужин</button>
      <button class="category-btn" data-category="Десерт">Десерт</button>
      <button class="category-btn" data-category="Перекус">Перекус</button>
    </div>

    <div id="recipes" class="recipes-container"></div>
  </div>

  <!-- Модальное окно рецепта -->
  <div id="recipe-modal" class="modal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <div class="modal-image-container">
        <img id="modal-recipe-image" src="" alt="Фото рецепта">
      </div>
      <div class="modal-text-container">
        <h2 id="modal-recipe-name"></h2>
        <p id="modal-meta"></p>
        <h3>Ингредиенты:</h3>
        <ul id="modal-recipe-ingredients"></ul>
        <h3>Теги для фильтра:</h3>
        <div id="modal-recipe-tags" class="tags-container"></div>
        <h3>Приготовление:</h3>
        <p id="modal-recipe-instructions"></p>
      </div>
    </div>
  </div>

  <!-- Новое модальное окно выбора ингредиентов -->
  <div id="ingredients-modal" class="modal">
    <div class="modal-content">
      <span class="close-button" id="close-ingredients-modal">&times;</span>
      <h2>Выбор ингредиентов</h2>
      <div class="products-controls">
        <button id="select-all-ingredients-btn" class="button">Выбрать все</button>
        <button id="clear-ingredients-btn" class="button">Очистить</button>
      </div>
      <div id="ingredients-chips-modal" class="chips-container"></div>
      <div class="form-actions">
        <button id="save-ingredients-btn" class="button">Сохранить</button>
      </div>
    </div>
  </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="data.js"></script>
  <script src="main.js"></script>
</body>
</html>